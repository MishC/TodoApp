version: '3.8'

services:
  todosapi:
    build:
      context: .
      dockerfile: ./TodosApi/Dockerfile2
    image: todosapi
    environment:
      ASPNETCORE_ENVIRONMENT: Development
    volumes:
      - ./test-results:/app/TestResults
    ports:
      - "5075:5075"  # Expose the backend API if needed for local development

  todoapp:
    build:
      context: ./TodoApp
      dockerfile: Dockerfile1
    image: todoapp
    ports:
      - "5000:80"
    environment:
      API_URL: "http://localhost:5075"  # Connect frontend to backend service

volumes:
  todos-data:
    driver: local
